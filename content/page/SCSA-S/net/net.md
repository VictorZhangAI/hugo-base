---
title: "计网All-in-One"
date: 2024-12-21T15:31:11+08:00
draft: false
---

## 分类

星型结构：易于组网，中心节点瘫痪会导致整个网络瘫痪  
环型结构：没有路径选择问题，但某个节点故障直接影响网络通信，网络吞吐能力差  
网型结构：可靠程度高，但是布线成本高  
树形结构：网络总长度较短，但层级越高的节点可靠性要求越高  
总线结构：网络业务容易扩展，但是故障排查成本大  

按照规模划分为：局域网，城域网，广域网，英特网

## 硬件设备与软件设备

网卡：将计算机待传输的数据转化为数据包，负责计算机与网线的链接  
双绞线与光纤  
集线器：对收集的信号进行再生整形放大  
modem：进行数字信号与模拟信号之间的转换  
交换机：用来进行两个网络之间的连接与数据过滤  
路由器：分组过滤，分组转发，优先级，复用，加密，压缩，防火墙，性能管理，流量管理，容错控制  
服务器：专门用于为其他计算机提供服务的计算机  
终端：一般的独立计算机  
软件：网络协议与网络操作系统  

## 计算机网络体系结构

体系结构={层，协议，接口}

层：n层服务了n+1层，也接收着n-1层的服务  
协议：语义，语法，定时  

### OSI协议
物理层：为通信提供物理链路  
传输层：建立相邻节点的数据链路，传输按照一定格式组织起来的数据帧  
网络层：在通信子网中提供数据包并进行报文分组，提供源站到目标站的数据传输服务  
传输层：为不同系统中的会话实体提供端到端的连接，传输的基本单位是报文  
会话层：在两个表示实体之间建立会话关系  
表示层：负责数据表示方式的问题解决  
应用层：在OSI环境下提供各种网络服务  

### TCP协议
应用层：向用户提供一组常用，可以在因特网上获得的应用服务  
传输层：提供端到端的通信  
因特网层：负责相邻计算机之间的通信  
网络接口层：接受IP数据并使用网络发送  

## 局域网

拓扑结构，传输介质，介质访问控制技术

总线型拓扑，环型拓扑，星型拓扑

固定介入类，集中控制接入类，分布控制接入类

LLC子层负责与媒体访问无关的功能，MAC子层负责与具体传输媒体有关的功能，只有MAC子层能够知道连接的局域网的标准

## 以太网

802.3以太网标准：一个以太网最多允许5个网段，最多允许使用4个中继器，其中3个网段能够连接终端  
以太网是使用带碰撞检测的载波侦听多路访问总线型网络

CSMA技术和CD技术

交换式以太网：建立虚连接和转发，在局域网间采用多台交换设备连接

## 虚拟局域网

虚拟局域网是由一些局域网网段构成的可跨越不同物理网段，不同网络类型的逻辑网络  
VLAN的信息交换：端口交换，帧交换，信元交换  
虚拟局域网要采用集中式路由和分布式路由  

## 交换机

### 交换机工作原理
MAC地址表，转发，广播  
初始化MAC地址表->MAC地址表学习->单帧转发->广播，组播和未知单帧的转发  

## ARP协议

负责从IP地址到物理地址的映射  
MAC地址：前三字节由RA分配，后三字节由厂家指派  
RARP：将MAC转化为IP  

## 网络层协议
网络层负责路由选择，拥塞控制和网际互联等  
IPv4：前8位为网络地址，后24位为主机地址  
子网掩码：1对应的位为网络号，0对应的位为主机号  
CIDR记法：IP::={<网络前缀>, <主机号>}  

## 路由
### 路由基础
需要跨网络转发的数据包提供的路径信息  
路由器在网络层工作，主要功能是路由选择  
路由指分组从源节点到目的节点的传输路线  
路由算法：静态路由算法，动态路由算法  
静态路由选择：扩散路由选择：适用于规模小，负荷轻的网络；固定式路由选择；随机路由选择  
动态路由选择：独立路由选择，集中路由选择，分布路由选择  

### 动态路由协议
RIP协议：运行于UDP之上；只和相邻路由器交换信息，拥有路由表  
RIP协议按照固定的时间间隔交换路由信息  
RIP大大限制了网络规模，收敛时间过长  
OSPF协议：区域边界路由器进行概括，拥有区域标识符  
OSPF会在每隔十秒钟发送Hello报文查看路由器是否可达，每隔三十分钟刷新一次数据库中的链路状态  

## 传输层
传输层主要用于复用和分用，提供应用进程间的逻辑通信  
UDP和TCP均使用应用层的端口进行通信  
TCP：传输前要建立连接，传输是可靠的，使用超时重传和流量控制保证可靠性  
三次握手：SYN->SYN+ACK->ACK  
四次挥手：保证两端均关闭TCP，FIN->ACK->FIN+ACK->ACK  
UDP发送但不保证到达  

## 远程访问协议

Telnet: 用户使用Telnet即可在所在地通过TCP链接注册到远程主机上  
SSH: 建立在应用层上，较为可靠  
邮件传输使用SMTP协议，通用因特网邮件扩充（MIME）

## 域名解析协议

顶级域名：国家，国际(.int)和行业相关  
域名服务器：根域名服务器，顶级域名服务器，权限域名服务器，顶级域名服务器  
查询：迭代查询，递归查询  

## DHCP
采用UDP传输协议  
发现，提供，选择，确认  
重新登录，更新租约  

防火墙位于路由器后，交换机前，典型功能为访问控制，传输安全，路由，地址切换，服务代理，攻击检测和防御  
性能指标：丢包率，吞吐量，时延，并发连接数  
IDS: HIDS, NIDS  
VPN: 依托NSP在公共网络中建立的虚拟专用通信网络  


（不是，这也太多了，半天根本复习不完啊）